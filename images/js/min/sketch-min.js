var s=function(r){var a=572,e=352,n,t=80,i,o;r.preload=function(){n=r.loadImage("images/dog.jpg")},r.setup=function(){var n=r.createCanvas(a,e);n.parent("myContainer"),i=new Array,o=new Array},r.draw=function(){r.image(n,0,0,a,e),l(),r.noLoop()};var l=function(){for(var l=0;a>l;l++)for(var s=0;e>s;s++)o.push([l,s]);for(var g=15,l=0;l<o.length-g;l+=g){var v=n.get(o[l][0],o[l][1]);r.fill(v);var c=r.brightness(v);if(t>=c){r.noStroke();var f=parseInt(r.random(0,3));0===f&&i.push([2*o[l][0],2*o[l][1]])}}if(null!=i){triangles=Delaunay.triangulate(i);for(var l=0;l<triangles.length-2;l++){var y=r.createVector(i[triangles[l]][0],i[triangles[l]][1],0);l++;var u=r.createVector(i[triangles[l]][0],i[triangles[l]][1],0);l++;var d=r.createVector(i[triangles[l]][0],i[triangles[l]][1],0),v=n.get(i[triangles[l]][0]/2,i[triangles[l]][1]/2),p=r.dist(y.x,y.y,u.x,u.y),x=r.dist(u.x,u.y,d.x,d.y),m=r.dist(y.x,y.y,d.x,d.y);r.fill(v),r.noStroke(),50>=p&&50>=x&&50>=m&&r.triangle(y.x,y.y,u.x,u.y,d.x,d.y)}}}};$(document).ready(function(){var r=new p5(s)});