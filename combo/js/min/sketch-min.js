var s=function(n){var a=900,e=600,t,i,r=0,o,l,s,r=0,u=12,p;n.preload=function(){s=n.loadImage("images/v"+u+".jpg"),s.resize(a,e)},n.setup=function(){p=n.createCanvas(a,e),p.parent("myContainer"),i=new PoissonDiskSampler,c(),o=new Array,l=new Array,i.createPoints(),t=i.pointList.length,console.log(t),n.image(s,0,0);for(var r=0;t>r;r++)l[r]=[i.pointList[r].x,i.pointList[r].y];l[0]=[0,0],l[1]=[a,0],l[2]=[0,e],l[3]=[a,e],l[4]=[a/2,0],l[5]=[a,e/2],l[6]=[a/2,e],l[7]=[0,e/2]},n.draw=function(){if(o=Delaunay.triangulate(l),null!=l){o=Delaunay.triangulate(l);for(var a=0,e=0;e<o.length-2;e++){var i=[l[o[e]][0],l[o[e]][1]];e++;var u=[l[o[e]][0],l[o[e]][1]];e++;var p=[l[o[e]][0],l[o[e]][1]],c=255/o.length,d=parseInt((i[0]+u[0]+p[0])/3),g=parseInt((i[1]+u[1]+p[1])/3),f=s.get(d,g);n.fill(f,100),n.stroke(f,255),a++,n.triangle(i[0],i[1],u[0],u[1],p[0],p[1])}}r++,r>=t&&(r=0),n.noLoop()};var c=function(){i.pointList=[],i.maxPoints=1e4,i.radiusMin=2,i.radiusMax=30,i.maxFails=500,i.pi2=2*Math.PI,i.w=a,i.h=e,i.distanceMap=null,i.excludeMap=null,i.excludeThreshold=0};n.mouseClicked=function(){}};$(document).ready(function(){var n=new p5(s)});