var Delaunay;!function(){"use strict";function r(r){var n=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,i,l,o,a,f,h;for(i=r.length;i--;)r[i][0]<n&&(n=r[i][0]),r[i][0]>t&&(t=r[i][0]),r[i][1]<e&&(e=r[i][1]),r[i][1]>u&&(u=r[i][1]);return l=t-n,o=u-e,a=Math.max(l,o),f=n+.5*l,h=e+.5*o,[[f-20*a,h-a],[f,h+20*a],[f+20*a,h-a]]}function n(r,n,e,u){var i=r[n][0],l=r[n][1],o=r[e][0],a=r[e][1],f=r[u][0],h=r[u][1],s=Math.abs(l-a),I=Math.abs(a-h),c,N,p,g,v,E,T,b,k,m;if(t>s&&t>I)throw new Error("Eek! Coincident points!");return t>s?(g=-((f-o)/(h-a)),E=(o+f)/2,b=(a+h)/2,c=(o+i)/2,N=g*(c-E)+b):t>I?(p=-((o-i)/(a-l)),v=(i+o)/2,T=(l+a)/2,c=(f+o)/2,N=p*(c-v)+T):(p=-((o-i)/(a-l)),g=-((f-o)/(h-a)),v=(i+o)/2,E=(o+f)/2,T=(l+a)/2,b=(a+h)/2,c=(p*v-g*E+b-T)/(p-g),N=s>I?p*(c-v)+T:g*(c-E)+b),k=o-c,m=a-N,{i:n,j:e,k:u,x:c,y:N,r:k*k+m*m}}function e(r){var n,e,t,u,i,l;for(e=r.length;e;)for(u=r[--e],t=r[--e],n=e;n;)if(l=r[--n],i=r[--n],t===i&&u===l||t===l&&u===i){r.splice(e,2),r.splice(n,2);break}}var t=1/1048576;Delaunay={triangulate:function(u,i){var l=u.length,o,a,f,h,s,I,c,N,p,g,v,E;if(3>l)return[];if(u=u.slice(0),i)for(o=l;o--;)u[o]=u[o][i];for(f=new Array(l),o=l;o--;)f[o]=o;for(f.sort(function(r,n){return u[n][0]-u[r][0]}),h=r(u),u.push(h[0],h[1],h[2]),s=[n(u,l+0,l+1,l+2)],I=[],c=[],o=f.length;o--;c.length=0){for(E=f[o],a=s.length;a--;)N=u[E][0]-s[a].x,N>0&&N*N>s[a].r?(I.push(s[a]),s.splice(a,1)):(p=u[E][1]-s[a].y,N*N+p*p-s[a].r>t||(c.push(s[a].i,s[a].j,s[a].j,s[a].k,s[a].k,s[a].i),s.splice(a,1)));for(e(c),a=c.length;a;)v=c[--a],g=c[--a],s.push(n(u,g,v,E))}for(o=s.length;o--;)I.push(s[o]);for(s.length=0,o=I.length;o--;)I[o].i<l&&I[o].j<l&&I[o].k<l&&s.push(I[o].i,I[o].j,I[o].k);return s},contains:function(r,n){if(n[0]<r[0][0]&&n[0]<r[1][0]&&n[0]<r[2][0]||n[0]>r[0][0]&&n[0]>r[1][0]&&n[0]>r[2][0]||n[1]<r[0][1]&&n[1]<r[1][1]&&n[1]<r[2][1]||n[1]>r[0][1]&&n[1]>r[1][1]&&n[1]>r[2][1])return null;var e=r[1][0]-r[0][0],t=r[2][0]-r[0][0],u=r[1][1]-r[0][1],i=r[2][1]-r[0][1],l=e*i-t*u;if(0===l)return null;var o=(i*(n[0]-r[0][0])-t*(n[1]-r[0][1]))/l,a=(e*(n[1]-r[0][1])-u*(n[0]-r[0][0]))/l;return 0>o||0>a||o+a>1?null:[o,a]}},"undefined"!=typeof module&&(module.exports=Delaunay)}();